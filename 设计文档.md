# 期中project设计文档

### 张稷平 19302010022

##### 静态网站网址： https://jiping-zhang.github.io/SOFT130002_pj1/ 

## 布局

#### 总体布局

导航栏在上方，页脚固定在页面最下方位置，右下角有返回顶部和刷新两个按钮；

大部分页面采取content在中间的布局；

#### 一些特殊页面的布局

welcomePage中content分为头图和快速浏览，当窗口足够宽的时候两者分站左右，窗口较窄时变成上下布局（由js完成）

browser浏览页中leftNavBox和content分占左右

注册页面中，content中包含了一个边框隐藏的表格，注册表单的内容在这个表格中布局

## 配色

#### 背景

背景色为彩虹渐变色，从浅蓝到浅绿到浅黄再到浅红，最后回到浅蓝色。之所以回到最初的颜色，是因为当页面宽度超出窗口宽度时背景会直接进行重复，如果最后一个颜色不是最初的颜色，那么在重复背景开始的地方就会很突兀

#### 导航栏元素

未选中时为透明背景黑字，被选中或鼠标移动到的时候为灰底白字；状态之间的变化时间为0.8秒，优化了视觉效果

#### 按钮

一些重要的按钮（如：提交、上传）为蓝绿相间的背景，白字

## bonus

#### 图片处理

cutImage.js 和 stretchImage.js 的功能是图片处理。cutImage 的作用是把图片裁剪成正方形，并确保裁剪的是图片的中间部分。它的算法是这样的：首先有图片和容器，图片放在容器里并且相对于容器定位，容器的溢出部分不显示。如果图片长大于宽，那么把图片的宽设置成容器的宽，并自动按比例改变它的长，接着，它的左边相对于容器的左边的距离是（自动改变后它的长-容器的长）的一半的相反数，这样，图片的中间部分就显示出来了，并且它的两边因为溢出容器被隐藏了。当然，为了降低代码的耦合性，让它在修改容器形状时（也就是容器变成长方形）还能使用，实际的算法比上述的略微复杂一点，会计算容器和图片的长的比例和宽的比例，并根据结果进行相应的裁剪。相应地，stretchImage的作用是把图片的长和宽中大的撑满容器，小的留白。

#### 响应式布局

几乎所有元素的宽度都是用相对于父元素的比例确定的。另外，welcomePage和signUp中有一些脚本来适应不同大小的窗口

#### 注册表单合法性检查

注册页面的表单有合法性检查。另外，一些重要项在失去焦点时就会进行合法性检查，例如，输完密码时，用鼠标点击其它元素，此时如果密码格式错误，页面就会显示错误提示信息。



